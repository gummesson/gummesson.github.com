    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="Ellen Gummesson – Random ramblings, musings and geekiness">
  <meta name="author" content="Ellen Gummesson">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <title>The Linux setup – Ellen Gummesson</title>
  <link href="//fonts.googleapis.com/css?family=Lato:400italic,400,700" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  <link rel="shortcut icon" href="/assets/img/favicon.ico">
  <link rel="author" href="/humans.txt" type="text/plain">
  <link rel="canonical" href="http://ellengummesson.com">
  <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Ellen Gummesson: Random ramblings, musings and geekiness (RSS Feed)">
  <link rel="sitemap" href="/sitemap.xml" type="application/xml" title="Ellen Gummesson: Random ramblings, musings and geekiness (Sitemap)">
  <!--[if lt IE 9]>
     <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
  <![endif]-->
</head>
  <body>
    <div class="l-container">

        <nav class="island  l-nav">
      <div id="js-mobile-nav" class="wrapper  wrapper--centered">
        <ul id="js-nav" class="nav  js-nav">
          <li class="print--primary">
          <a class="link--hidden" href="/" alt="Blog">
              Home
            </a>
          </li>
          <li class="print--primary">
            <a class="js-nav--item  link--hidden" href="/about" alt="About">
              About
            </a>
          </li>
          <li class="print--primary">
            <a class="js-nav--item  link--hidden" href="/archives" alt="Archives">
              Archives
            </a>
          </li>
          <li class="print--primary">
            <a class="js-nav--item  link--hidden" href="/contact" alt="Contact">
              Contact
            </a>
          </li>
          <li class="print--primary">
            <a class="link--hidden" href="/feed.xml" alt="Subscribe">
              <i class="icon-rss"></i>
            </a>
          </li>
        </ul>
      </div>
    </nav><!-- .l-nav -->

        <header class="island  island--brand  l-header">
      <div class="wrapper  wrapper--centered">
        <h1 class="l-logo">
          <a class="link--hidden" href="/" alt="Home">
            Ellen.
          </a>
        </h1><!-- .l-logo -->
        <p class="print--primary">
          Random ramblings, musings and geekiness
        </p>
      </div>
    </header><!-- .l-header -->

      <div class="island  l-main">
        <div class="wrapper">
          <article class="page">
  <h1>The Linux setup</h1>
    <p>A collection of notes on my <a href="http://www.debian.org/">Debian</a> and <a href="http://dwm.suckless.org/">dwm</a> powered system.</p>

<ul id="markdown-toc">
  <li><a href="#computer">Computer</a>    <ul>
      <li><a href="#hardware">Hardware</a></li>
      <li><a href="#os">OS</a></li>
    </ul>
  </li>
  <li><a href="#software">Software</a>    <ul>
      <li><a href="#base">Base</a></li>
      <li><a href="#tools">Tools</a>        <ul>
          <li><a href="#ncurses">ncurses</a></li>
        </ul>
      </li>
      <li><a href="#applications">Applications</a></li>
      <li><a href="#development">Development</a></li>
      <li><a href="#fonts">Fonts</a></li>
      <li><a href="#theme">Theme</a></li>
    </ul>
  </li>
  <li><a href="#screenshots">Screenshots</a></li>
  <li><a href="#installation">Installation</a>    <ul>
      <li><a href="#base-1">Base</a></li>
      <li><a href="#desktop">Desktop</a></li>
      <li><a href="#sound">Sound</a></li>
      <li><a href="#wireless">Wireless</a></li>
      <li><a href="#apt-pinning">Apt-pinning</a></li>
    </ul>
  </li>
  <li><a href="#maintenance">Maintenance</a>    <ul>
      <li><a href="#cleaning-the-system">Cleaning the system</a></li>
      <li><a href="#removing-old-kernels">Removing old kernels</a></li>
    </ul>
  </li>
  <li><a href="#miscellaneous">Miscellaneous</a>    <ul>
      <li><a href="#install-from-the-unstable-repositories">Install from the <code>unstable</code> repositories</a></li>
      <li><a href="#use-shutdown-without-sudo">Use <code>shutdown</code> without sudo</a></li>
    </ul>
  </li>
</ul>

<h2 id="computer">Computer</h2>

<p><strong>TL;DR:</strong> a <a href="http://en.wikipedia.org/wiki/Samsung_NC10">Samsung NC10</a> with <a href="http://www.debian.org/releases/testing/">Debian Testing</a>.</p>

<h3 id="hardware">Hardware</h3>

<p>I have an aging <a href="http://en.wikipedia.org/wiki/Samsung_NC10">Samsung NC10</a> netbook that I got back in 2009 which I use as my primary Linux box. It has a 10.2” LCD screen, a 1.6 GHz CPU, 1GB RAM and a 160GB HDD. It actually works suprisingly well with the more popular distributions of Linux and the battery still lasts for a couple of hours.</p>

<h3 id="os">OS</h3>

<p>My main operating system right now is <a href="#installation">minimal install</a> of <a href="http://www.debian.org/releases/testing/">Debian Testing</a>. I have my <code>sources.list</code>, <code>preferences</code> and <code>apt.conf</code> files pointing to the actual testing branch and not the current codename. I used <a href="http://linuxforcynics.com/how-to/minimal-debian-install">this guide</a> for the installation and <a href="https://wiki.debian.org/AptPreferences">this wiki entry</a> for the apt-pinning.</p>

<h2 id="software">Software</h2>

<p><strong>NOTE:</strong> a couple of the packages may very well be included in the installation.</p>

<h3 id="base">Base</h3>

<ul>
  <li><a href="http://dwm.suckless.org/">dwm</a> as my window manager of choice.
    <ul>
      <li><a href="http://tools.suckless.org/dmenu/">dmenu</a> as a simple application launcher.</li>
      <li><a href="http://packages.debian.org/testing/feh">feh</a> for image viewing and wallpaper management.</li>
      <li><a href="http://packages.debian.org/testing/unclutter">unclutter</a> for hiding the cursor.</li>
    </ul>
  </li>
  <li><a href="http://packages.debian.org/testing/rxvt-unicode-256color">urxvt</a> as my main terminal emulator.</li>
  <li><a href="http://packages.debian.org/testing/zsh">Zsh</a> as my default shell.
    <ul>
      <li><a href="https://github.com/robbyrussell/oh-my-zsh">Oh My Zsh</a> as my framework for <code>Zsh</code>.</li>
    </ul>
  </li>
  <li><a href="http://packages.debian.org/testing/tmux">tmux</a> as my terminal multiplexer.</li>
</ul>

<h3 id="tools">Tools</h3>

<ul>
  <li><a href="http://packages.debian.org/testing/acpi">acpi</a> as an ACPI client for providing battery, AC power, and thermal readings.</li>
  <li><a href="http://packages.debian.org/testing/cpufrequtils">cpufrequtils</a> for managing the <code>cpufreq</code> kernel feature.</li>
  <li><a href="http://packages.debian.org/testing/xbacklight">xbacklight</a> for setting the brightness of the screen.</li>
  <li><a href="http://packages.debian.org/testing/htop">htop</a> for system monitoring.</li>
  <li><a href="http://packages.debian.org/testing/autocutsel">autocutsel</a> for synchronzing the clipboard.</li>
  <li><a href="http://packages.debian.org/testing/xclip">xclip</a> for managing the clipboard.</li>
  <li><a href="http://packages.debian.org/testing/scrot">scrot</a> for taking screenshots.</li>
  <li><a href="http://packages.debian.org/testing/usbmount">usbmount</a> for automatically mouting and unmounting USB devices.</li>
  <li><a href="http://packages.debian.org/testing/curl">curl</a> for transfering data via URLs.</li>
  <li><a href="http://packages.debian.org/testing/trash-cli">trash</a> as a command line trashcan utility.</li>
  <li><a href="http://packages.debian.org/testing/tree">tree</a> for a command line tree view.</li>
  <li><a href="http://packages.debian.org/testing/ack-grep">ack</a> as a <code>grep</code>-like searching tool.</li>
  <li><a href="https://github.com/rupa/z">z</a> for “jumping” between directories.</li>
  <li><a href="https://github.com/hut/ranger">ranger</a> as a file browser.</li>
  <li><a href="http://packages.debian.org/testing/pandoc">pandoc</a> for converting Markdown to HTML.</li>
</ul>

<h4 id="ncurses">ncurses</h4>

<p>Packages for running and compiling <code>ncurses</code>-based software.</p>

<ul>
  <li><a href="http://packages.debian.org/testing/libncurses5-dev">libncurses5</a></li>
  <li><a href="http://packages.debian.org/testing/libncurses5">libncurses5-dev</a></li>
  <li><a href="http://packages.debian.org/testing/libncurses5-dev">libncursesw5</a></li>
  <li><a href="http://packages.debian.org/testing/libncurses5">libncursesw5-dev</a></li>
  <li><a href="http://packages.debian.org/testing/ncurses-term">ncurses-term</a></li>
</ul>

<h3 id="applications">Applications</h3>

<ul>
  <li><a href="https://www.dropbox.com/install?os=lnx">Dropbox</a> for synchronizing a lot of things.</li>
  <li><a href="http://packages.debian.org/testing/vim-gtk">Vim/gVim</a> as my main text editor.</li>
  <li><a href="http://packages.debian.org/testing/dav-text">dav</a> as a simpler alternative to <code>Vim</code>.</li>
  <li><a href="http://packages.debian.org/testing/hnb">hnb</a> for general outlining.</li>
  <li><a href="http://packages.debian.org/testing/mplayer2">mplayer2</a> as my default video and podcast player.</li>
  <li><a href="http://packages.debian.org/testing/cmus">cmus</a> as a more advanced music player.</li>
  <li><a href="http://packages.debian.org/testing/uzbl">uzbl</a> for graphical web browsing.</li>
  <li><a href="http://packages.debian.org/testing/w3m">w3m</a> for text-based web browsing.</li>
  <li><a href="http://packages.debian.org/jessie/surfraw">surfraw</a> as my command line web search client.</li>
  <li><a href="http://packages.debian.org/testing/irssi">irssi</a> as my IRC client.</li>
  <li><a href="http://packages.debian.org/testing/zathura">zathura</a> for viewing PDFs.</li>
  <li><a href="https://code.google.com/p/mashpodder">mashpodder</a> as a simple podcatcher for a couple off oggcasts.</li>
  <li><a href="http://packages.debian.org/testing/pcmanfm">pcmanfm</a> as a graphical file browser.
    <ul>
      <li><a href="http://packages.debian.org/testing/tango-icon-theme">Tango</a> as the icon theme.</li>
    </ul>
  </li>
</ul>

<h3 id="development">Development</h3>

<ul>
  <li><a href="http://packages.debian.org/testing/git">Git</a> for version control and as a backup tool.</li>
  <li><a href="http://packages.debian.org/testing/ruby">Ruby</a> with the <a href="http://packages.debian.org/jessie/ruby-dev"><code>ruby-dev</code></a> package.
    <ul>
      <li><a href="http://rubygems.org/gems/jekyll">Jekyll</a> for generating my website.</li>
      <li><a href="http://sass-lang.com/">Sass</a>/<a href="http://rubygems.org/gems/compass">Compass</a> as a CSS authoring tool.</li>
    </ul>
  </li>
  <li><a href="http://nodejs.org/">Node.js</a> from the <code>unstable</code> repositories with the <a href="http://packages.debian.org/sid/nodejs-legacy"><code>nodejs-legacy</code></a> package.
    <ul>
      <li><a href="https://npmjs.org/package/nws">nws</a> as a simple static server.</li>
      <li><a href="https://npmjs.org/package/jshint">JSHint</a> for hinting JavaScript.</li>
      <li><a href="https://npmjs.org/package/uglify-js">UglifyJS</a> for minimizing JavaScript.</li>
      <li><a href="https://npmjs.org/package/grunt-cli">Grunt</a> as a web development task runner.</li>
    </ul>
  </li>
</ul>

<h3 id="fonts">Fonts</h3>

<ul>
  <li><a href="http://packages.debian.org/testing/xfonts-terminus">Terminus</a> as the default font for <code>dwm</code>.</li>
  <li><a href="http://packages.debian.org/testing/fonts-liberation">Liberation</a> for writing and coding.</li>
</ul>

<h3 id="theme">Theme</h3>

<ul>
  <li><a href="http://ethanschoonover.com/solarized">Solarized</a> as the default “theme” for nearly everything.</li>
</ul>

<h2 id="screenshots">Screenshots</h2>

<p><a href="/images/notes/2013-08-23-debian-dwm-desktop.png"><img src="/images/notes/2013-08-23-debian-dwm-desktop.png" alt="My Debian and dwm desktop" /></a></p>

<p><a href="/images/notes/2013-08-24-debian-dwm-urxvt.png"><img src="/images/notes/2013-08-24-debian-dwm-urxvt.png" alt="My Debian and dwm term" /></a></p>

<h2 id="installation">Installation</h2>

<p><strong>NOTE:</strong> these notes are heavily based on the links in the <a href="#os">OS</a> section.</p>

<h3 id="base-1">Base</h3>

<ul>
  <li>Download the <a href="http://www.debian.org/distrib/netinst">Debian stable net installer</a>.</li>
  <li>Setup an ethernet connection.</li>
  <li>Select <em>SSH Server</em>, <em>System Utilities</em> and <em>Laptop Utilities</em> when the <em>Select and install software</em> dialog pops up.</li>
  <li>Install <code>sudo</code> and add your username:
    <ul>
      <li><code>apt-get sudo</code></li>
      <li><code>adduser USERNAME sudo</code></li>
      <li><code>exit</code></li>
    </ul>
  </li>
</ul>

<h3 id="desktop">Desktop</h3>

<ul>
  <li>Install <code>X</code>:
    <ul>
      <li><code>sudo apt-get install xorg</code></li>
    </ul>
  </li>
  <li>Install some common build tools:
    <ul>
      <li><code>sudo apt-get install build-essential</code></li>
      <li><code>sudo apt-get install libx11-dev libxinerama-dev</code></li>
    </ul>
  </li>
  <li>Install <code>Git</code> and clone the <code>dwm</code> repository:
    <ul>
      <li><code>sudo apt-get install git</code></li>
      <li><code>git clone http://git.suckless.org/dwm</code></li>
    </ul>
  </li>
  <li>Compile <code>dwm</code>:
    <ul>
      <li><code>cd dwm</code></li>
      <li><code>cp config.def.h config.h</code></li>
      <li><code>sudo make clean install</code></li>
    </ul>
  </li>
  <li>Create an <code>.xinitrc</code> file:
    <ul>
      <li><code>nano ~/.xinitrc</code>
        <ul>
          <li>
            <p>Add the following content:</p>

            <pre><code>exec dwm
</code></pre>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Make the <code>.xinitrc</code> file executable:
    <ul>
      <li><code>chmod +x ~/.xinitrc</code></li>
    </ul>
  </li>
  <li>Start <code>X</code>:
    <ul>
      <li><code>startx</code></li>
    </ul>
  </li>
</ul>

<h3 id="sound">Sound</h3>

<ul>
  <li>Install <code>ALSA</code>:
    <ul>
      <li><code>sudo apt-get alsa-base alsa-utils</code></li>
    </ul>
  </li>
  <li>Intialize it:
    <ul>
      <li><code>alsactl init</code></li>
    </ul>
  </li>
  <li>Unmute the channels:
    <ul>
      <li><code>alsamixer</code></li>
    </ul>
  </li>
  <li>Test it to make sure that it works:
    <ul>
      <li><code>aplay /usr/share/sounds/alsa/*</code> </li>
    </ul>
  </li>
</ul>

<h3 id="wireless">Wireless</h3>

<ul>
  <li>
    <p>Add  the <code>contrib</code> and the <code>non-free</code> repositories to the <code>/etc/apt/sources.list</code> file:</p>

    <pre><code>deb http://ftp.us.debian.org/debian/ CODENAME main contrib non-free
deb-src http://ftp.us.debian.org/debian/ CODENAME main contrib non-free

deb http://security.debian.org/ CODENAME/updates main contrib non-free
deb-src http://security.debian.org/ CODENAME/updates main contrib non-free
</code></pre>
  </li>
  <li>Update the repositories and install the necessary firmware:
    <ul>
      <li><code>sudo apt-get update</code></li>
      <li><code>sudo apt-get FIRMWARE</code></li>
    </ul>
  </li>
  <li>Install the <code>wireless-tools</code> package:
    <ul>
      <li><code>sudo apt-get install wireless-tools</code></li>
    </ul>
  </li>
  <li>Restart the module to run the firmware:
    <ul>
      <li><code>sudo modprobe -r FIRMWARE ; modprobe FIRMWARE</code></li>
    </ul>
  </li>
  <li>Check if the wifi interface is available:
    <ul>
      <li><code>sudo iwconfig</code>
        <ul>
          <li><code>wlan0 [...]</code> (or something like it)</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <p>Edit the  <code>/etc/network/interfaces</code> file:</p>

    <pre><code>auto wlan0
iface wlan0 inet dhcp
    wpa-ssid SSID
    wpa-psk PASSWORD
</code></pre>
  </li>
  <li>Check if you’re connected to the router:
    <ul>
      <li><code>sudo ifup wlan0</code></li>
      <li><code>sudo ifconfig wlan0</code></li>
      <li><code>ping google.com</code></li>
    </ul>
  </li>
</ul>

<h3 id="apt-pinning">Apt-pinning</h3>

<p><strong>NOTE:</strong> Debian does not encourage <code>apt-pinning</code> without thorough consideration.</p>

<ul>
  <li>
    <p>Replace the content of the <code>sources.list</code> file located in <code>/etc/apt/</code> with the following:</p>

    <pre><code># Testing
deb http://ftp.se.debian.org/debian/ testing main contrib non-free
deb-src http://ftp.se.debian.org/debian/ testing main contrib non-free

# Unstable
deb http://ftp.se.debian.org/debian/ unstable main contrib non-free
deb-src http://ftp.se.debian.org/debian/ unstable main contrib non-free

# Security
deb http://security.debian.org/ testing/updates main contrib non-free
deb-src http://security.debian.org/ testing/updates main contrib non-free
</code></pre>
  </li>
  <li>
    <p>Create a file called <code>preferences</code> in <code>/etc/apt/</code> and add the below content:</p>

    <pre><code># Testing
Package: *
Pin: release a=testing
Pin-Priority: 900

# Unstable
Package: *
Pin: release a=unstable
Pin-Priority: 800
</code></pre>
  </li>
  <li>
    <p>Create a file called <code>apt.conf</code> in <code>/etc/apt/</code> with the following content:</p>

    <pre><code>APT::Default-Release "testing";
</code></pre>
  </li>
  <li>
    <p>Update the system:</p>
    <ul>
      <li><code>sudo apt-get update</code></li>
      <li><code>sudo apt-get dist-upgrade</code></li>
    </ul>
  </li>
</ul>

<h2 id="maintenance">Maintenance</h2>

<p><strong>NOTE:</strong> You should only proceed with these actions if you know what you’re doing.</p>

<h3 id="cleaning-the-system">Cleaning the system</h3>

<ul>
  <li>To completely uninstall software:
    <ul>
      <li><code>sudo apt-get purge PACKAGE</code></li>
    </ul>
  </li>
  <li>To remove unneeded packages:
    <ul>
      <li><code>sudo apt-get autoremove</code></li>
      <li><code>sudo apt-get autoclean</code></li>
    </ul>
  </li>
</ul>

<h3 id="removing-old-kernels">Removing old kernels</h3>

<ul>
  <li>Get the current kernel version:
    <ul>
      <li><code>uname -r</code></li>
    </ul>
  </li>
  <li>Get all installed kernels:
    <ul>
      <li><code>dpkg -l | grep 'linux-image-'</code></li>
    </ul>
  </li>
  <li>Remove the kernel from <code>GRUB</code>:
    <ul>
      <li><code>sudo apt-get autoremove linux-image-x.x.xx-xxx-xxx</code></li>
    </ul>
  </li>
  <li>Completely remove the kernel from the system:
    <ul>
      <li><code>sudo apt-get purge linux-image-x.x.xx-xxx-xxx</code></li>
    </ul>
  </li>
</ul>

<h2 id="miscellaneous">Miscellaneous</h2>

<p><strong>NOTE:</strong> You should only proceed with these actions if you know what you’re doing.</p>

<h3 id="install-from-the-unstable-repositories">Install from the <code>unstable</code> repositories</h3>

<ul>
  <li>Run the following with the relevant package name:
    <ul>
      <li><code>sudo apt-get install PACKAGE/unstable</code></li>
    </ul>
  </li>
</ul>

<h3 id="use-shutdown-without-sudo">Use <code>shutdown</code> without sudo</h3>

<ul>
  <li>Modify the <code>/etc/sudoers</code> file:
    <ul>
      <li><code>sudo visudo</code>
        <ul>
          <li>
            <p>Add the following content with your username:</p>

            <pre><code>USERNAME ALL = NOPASSWD: /sbin/shutdown
</code></pre>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

</article><!-- .page -->

        </div>
      </div><!-- .l-main -->
        <footer class="island  island--brand  l-footer">
      <div class="wrapper  wrapper--centered">
        <p class="print--primary">
          Copyright &copy; <a class="link--hidden" href="/" alt="Home">Ellen Gummesson</a> 2013
        </p>
      </div>
    </footer><!-- .l-footer-->
  </div><!-- .l-container -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
</body>
</html>

