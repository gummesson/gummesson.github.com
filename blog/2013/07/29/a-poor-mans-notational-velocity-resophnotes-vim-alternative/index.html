    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="Ellen Gummesson – Random ramblings, musings and geekiness">
  <meta name="author" content="Ellen Gummesson">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <title>A poor man's Notational Velocity/ResophNotes Vim alternative – Ellen Gummesson</title>
  <link href="//fonts.googleapis.com/css?family=Lato:400italic,400,700" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
  <link rel="shortcut icon" href="/assets/img/favicon.ico">
  <link rel="author" href="/humans.txt" type="text/plain">
  <link rel="canonical" href="http://ellengummesson.com">
  <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="Ellen Gummesson: Random ramblings, musings and geekiness (RSS Feed)">
  <link rel="sitemap" href="/sitemap.xml" type="application/xml" title="Ellen Gummesson: Random ramblings, musings and geekiness (Sitemap)">
  <!--[if lt IE 9]>
     <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
  <![endif]-->
</head>
  <body>
    <div class="l-container">

        <nav class="island  l-nav">
      <div id="js-mobile-nav" class="wrapper  wrapper--centered">
        <ul id="js-nav" class="nav  js-nav">
          <li class="print--primary">
          <a class="js-nav--item  link--hidden" href="/" alt="Blog">
              Home
            </a>
          </li>
          <li class="print--primary">
            <a class="js-nav--item  link--hidden" href="/about" alt="About">
              About
            </a>
          </li>
          <li class="print--primary">
            <a class="js-nav--item  link--hidden" href="/archives" alt="Archives">
              Archives
            </a>
          </li>
          <li class="print--primary">
            <a class="js-nav--item  link--hidden" href="/contact" alt="Contact">
              Contact
            </a>
          </li>
          <li class="print--primary">
            <a class="link--hidden" href="/feed.xml" alt="Subscribe">
              <i class="icon-rss"></i>
            </a>
          </li>
        </ul>
      </div>
    </nav><!-- .l-nav -->

        <header class="island  island--brand  l-header">
      <div class="wrapper  wrapper--centered">
        <h1 class="l-logo">
          <a class="link--hidden" href="/" alt="Home">
            Ellen.
          </a>
        </h1><!-- .l-logo -->
        <p class="print--primary">
          Random ramblings, musings and geekiness
        </p>
      </div>
    </header><!-- .l-header -->

      <div class="island  l-main">
        <div class="wrapper">
          <article class="post">
  
    <h1 class="post__title">
      A poor man's Notational Velocity/ResophNotes Vim alternative
    </h1>
  
    <p class="post__meta">
      Posted on July 29, 2013 in <a href="/blog/tag/Code" alt="Code">Code</a>, <a href="/blog/tag/Vim" alt="Vim">Vim</a>
    </p>
      <p><em>Long time, no see. I haven’t touched this blog in almost two months and the reason for that is that life got in the way. I’ve really missed writing so I’ll defintively try to pick it up again, I swear!</em></p>

<p>Linux is in a lot of ways much better than Windows but for some reason there’s no good alternative for note-taking apps like <a href="http://notational.net/">Notational Velocity</a> or <a href="http://www.resoph.com/ResophNotes/Welcome.html">ResophNotes</a>. I’ve tried <a href="https://github.com/cpbotha/nvpy">NvPY</a> but unfortunately it doesn’t really work that great for using plain text files with Dropbox. A couple of months back I did experiment with using Vim in conjunction with the <a href="https://github.com/mileszs/ack.vim">Ack plugin</a>, which worked fine on Linux but rather poorly on Windows<sup id="fnref:20130729-1"><a href="#fn:20130729-1" class="footnote">1</a></sup>. I decided to replace Ack with Vim’s built-in <code>grep</code> function, mainly just to keep it a cross-platform script. It’s not quite as fast as Ack but the difference isn’t huge since it’s just dealing with text files.</p>

<p>It basically consists of two command line mappings: <code>Note</code>, which will create a new in the specified notes folder with the provided filename and the default extension, like this: <code>:Note This is the filename</code>. <code>Notes</code> has two functions. You can either use it to browse the notes folder or search the content of the text files in it, ie: <code>:Notes I'm looking for this</code>. It’ll open up the quickfix list after the search is complete.</p>

<p>I actually have a folder in my Vim home directory called <code>tweaks</code> were I’ve placed a few small changes but you could technically turn this into a real plugin too or rewrite it and put it in your <code>.vimrc</code> file. I like having most of its’ functionality in a <code>autoload</code> folder since it won’t load until you actually need it.</p>

<p><strong>tweaks/autoload/notes.vim:</strong></p>

<pre><code>function! notes#List(pattern)
  if strlen(a:pattern) == 0
    silent! execute 'Sexplore '.g:notes_directory
  else
    silent! execute 'lcd '.g:notes_directory.' | vimgrep /'.a:pattern.'/gj *.'.g:notes_extension.' | copen'
  endif
endfunction

function! notes#New(filename)
  if strlen(a:filename) == 0
    echom "No filename!"
  else
    silent! execute 'enew | lcd '.g:notes_directory.' | w '.a:filename.'.'.g:notes_extension
  endif
endfunction
</code></pre>

<p>There’s really nothing fancy in the above scripts, but the combination of using <code>netrw</code>, <code>vimgrep</code> and the quickfix list works really well.</p>

<p><strong>tweaks/plugin/notes.vim</strong>:</p>

<pre><code>if exists("g:loaded_notes_plugin") || &amp;cp
  finish
endif

let g:loaded_notes_plugin = 1

if !exists("g:notes_directory")
  if has("unix")
    let g:notes_directory = "~/Notes"
  else
    let g:notes_directory = "C:/Notes"
  endif
endif

if !exists("g:notes_extension")
  let g:notes_extension = "txt"
endif

command! -nargs=? Notes call notes#List(&lt;q-args&gt;)
command! -nargs=? Note call notes#New(&lt;q-args&gt;)
</code></pre>

<p>You can of course change the <code>g:notes_directory</code> and <code>g:notes_extension</code> to whatever you want. You could remove the <code>if has("unix")</code> part if you don’t plan on using it on different systems too.</p>

<hr />

<div class="footnotes">
  <ol>
    <li id="fn:20130729-1">
      <p>The plugin in itself works flawlessly but Ack doesn’t really work all to well on Windows.<a href="#fnref:20130729-1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

</article><!-- .post -->

  <div class="l-comments">
  <h1>Comments</h1>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'ellengummesson'; // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div><!-- .l-comments -->



        </div>
      </div><!-- .l-main -->
        <footer class="island  island--brand  l-footer">
      <div class="wrapper  wrapper--centered">
        <p class="print--primary">
          Copyright &copy; <a class="link--hidden" href="/" alt="Home">Ellen Gummesson</a> 2013
        </p>
      </div>
    </footer><!-- .l-footer-->
  </div><!-- .l-container -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/7.3/highlight.min.js"></script>
  <script src="/assets/js/app.js"></script>
</body>
</html>

